var sponsoredArticle = {
    description: 'Выставка к 70-летнему юбилею муми-троллей. Расписание, отзывы и рецензии на выставку «Шляпа волшебника: Муми-Тролли и другие герои нашего детства»',
    type: 'video',
    name: 'Шляпа волшебника: Муми-Тролли и другие герои нашего детства',
    created: 'Tue, 26 Jan 2016 09:47:55 UTC',
    branding: 'afisha',
    duration: 0,
    views: 0,
    thumbnail: [
        {
            url: 'http://images.taboola.com/taboola/image/fetch/f_jpg%2Cq_auto%2Cc_fill%2Cg_faces:auto%2Ce_sharpen/http%3A%2F%2Fs1.afisha.net%2FAfisha7Files%2FUGPhotos%2Fb8a%2Fb8a58033-c740-4908-9f55-737695fc70ea%2Fp_F_main.jpg'
        }
    ],
    categories: [
        ['ru']
    ],
    id: '~~V1~~-1010246065169684263~~r5Vp4O-FDqordLKLE4VDVC5dKLQe2REsTFN8A2PneMe9OSd03RFk211LqYDaWXBnlD6CtweKIb_hxshbJxLBaL3Gzi67IULKH_cPQniqvf34JR2BZr0JwlZJK_n38LmXBznfstAxgHxK10DUnx__IOZshTJzHV6HG2_zDL-kFQ13_izeigIffesEqmaKiJEaDeThOGHjSoqB1Ur5dwVW2rv5vUbL2X2u0jXsevYjewIaXNoG8iQI8-v7fkO2Iqj_-YMiEKt5faBg_LXVQLbnXZlLeXUHShw0g_iEThBuayk',
    origin: 'sponsored',
    url: 'http://api.taboola.com/1.0/json/taboola-templates/recommendations.notify-click?app.type=desktop&app.apikey=f9040ab1b9c802857aa783c469d0e0ff7e7366e4&response.id=__94729615f051853db03e465fd7ddfeb4__e53569d4068c1695b427e3377e2fdc0b&response.session=v2_4aada80da56f6b1f31f14eaf4e18a677_7784b77c-845c-4e60-9b27-46b1f8785364-tuct8a6252c_1638703020_1638703020_CNawjgYQswsYhfC-0tgvIAEoATBmOIjrCkCxkBBI3PAUUP___________wFYAGAAaJTJ_-Lxkra-iAFwAQ&item.id=%7E%7EV1%7E%7E-1010246065169684263%7E%7Er5Vp4O-FDqordLKLE4VDVC5dKLQe2REsTFN8A2PneMe9OSd03RFk211LqYDaWXBnlD6CtweKIb_hxshbJxLBaL3Gzi67IULKH_cPQniqvf34JR2BZr0JwlZJK_n38LmXBznfstAxgHxK10DUnx__IOZshTJzHV6HG2_zDL-kFQ13_izeigIffesEqmaKiJEaDeThOGHjSoqB1Ur5dwVW2rv5vUbL2X2u0jXsevYjewIaXNoG8iQI8-v7fkO2Iqj_-YMiEKt5faBg_LXVQLbnXZlLeXUHShw0g_iEThBuayk&item.type=video&sig=cf386452961444b2258489487fa31beef68cd742902b&redir=http%3A%2F%2Fwww.afisha.ru%2Fexhibition%2F108371%2F%3Futm_source%3Dtaboola%26utm_medium%3Dreferral%26tblci%3DGiBDlznFu8aabgfBnnmDcIKNB1KHt5rSvV1Mg1VNmr42CSC5BCi6nLiAuv_toaMB%23tblciGiBDlznFu8aabgfBnnmDcIKNB1KHt5rSvV1Mg1VNmr42CSC5BCi6nLiAuv_toaMB&ui=7784b77c-845c-4e60-9b27-46b1f8785364-tuct8a6252c&cpb=GIkFIJz__________wEqFnRhYm9vbGFzeW5kaWNhdGlvbi5jb20yCHdhdGVyMDI4OIDuyf0EQIjrCkixkBBQ3PAUWP___________wFjCP4WEIogGBNkYwjXFhDVHxgjZGMI0gMQ4AYYCGRjCJYUEJ0cGBhkYwjS__________8BENL__________wEYLmRjCPQUEJ4dGB9keAGAAQKIAcaKxgQ'
};

var organicArticle = {
    description: "Выставка к 70-летнему юбилею муми-троллей. Расписание, отзывы и рецензии на выставку «Шляпа волшебника: Муми-Тролли и другие герои нашего детства»",
    type: "video",
    name: "Шляпа волшебника: Муми-Тролли и другие герои нашего детства",
    created: "Tue, 26 Jan 2016 09:47:55 UTC",
    branding: "afisha",
    duration: 0,
    views: 0,
    thumbnail: [
        {
            url: "http://images.taboola.com/taboola/image/fetch/f_jpg%2Cq_auto%2Cc_fill%2Cg_faces:auto%2Ce_sharpen/http%3A%2F%2Fs1.afisha.net%2FAfisha7Files%2FUGPhotos%2Fb8a%2Fb8a58033-c740-4908-9f55-737695fc70ea%2Fp_F_main.jpg"
        }
    ],
    categories: [
        ["ru"]
    ],
    id: "~~V1~~-1010246065169684263~~r5Vp4O-FDqordLKLE4VDVC5dKLQe2REsTFN8A2PneMe9OSd03RFk211LqYDaWXBnlD6CtweKIb_hxshbJxLBaL3Gzi67IULKH_cPQniqvf34JR2BZr0JwlZJK_n38LmXBznfstAxgHxK10DUnx__IOZshTJzHV6HG2_zDL-kFQ13_izeigIffesEqmaKiJEaDeThOGHjSoqB1Ur5dwVW2rv5vUbL2X2u0jXsevYjewIaXNoG8iQI8-v7fkO2Iqj_-YMiEKt5faBg_LXVQLbnXZlLeXUHShw0g_iEThBuayk",
    origin: "organic",
    url: "http://api.taboola.com/1.0/json/taboola-templates/recommendations.notify-click?app.type=desktop&app.apikey=f9040ab1b9c802857aa783c469d0e0ff7e7366e4&response.id=__94729615f051853db03e465fd7ddfeb4__e53569d4068c1695b427e3377e2fdc0b&response.session=v2_4aada80da56f6b1f31f14eaf4e18a677_7784b77c-845c-4e60-9b27-46b1f8785364-tuct8a6252c_1638703020_1638703020_CNawjgYQswsYhfC-0tgvIAEoATBmOIjrCkCxkBBI3PAUUP___________wFYAGAAaJTJ_-Lxkra-iAFwAQ&item.id=%7E%7EV1%7E%7E-1010246065169684263%7E%7Er5Vp4O-FDqordLKLE4VDVC5dKLQe2REsTFN8A2PneMe9OSd03RFk211LqYDaWXBnlD6CtweKIb_hxshbJxLBaL3Gzi67IULKH_cPQniqvf34JR2BZr0JwlZJK_n38LmXBznfstAxgHxK10DUnx__IOZshTJzHV6HG2_zDL-kFQ13_izeigIffesEqmaKiJEaDeThOGHjSoqB1Ur5dwVW2rv5vUbL2X2u0jXsevYjewIaXNoG8iQI8-v7fkO2Iqj_-YMiEKt5faBg_LXVQLbnXZlLeXUHShw0g_iEThBuayk&item.type=video&sig=cf386452961444b2258489487fa31beef68cd742902b&redir=http%3A%2F%2Fwww.afisha.ru%2Fexhibition%2F108371%2F%3Futm_source%3Dtaboola%26utm_medium%3Dreferral%26tblci%3DGiBDlznFu8aabgfBnnmDcIKNB1KHt5rSvV1Mg1VNmr42CSC5BCi6nLiAuv_toaMB%23tblciGiBDlznFu8aabgfBnnmDcIKNB1KHt5rSvV1Mg1VNmr42CSC5BCi6nLiAuv_toaMB&ui=7784b77c-845c-4e60-9b27-46b1f8785364-tuct8a6252c&cpb=GIkFIJz__________wEqFnRhYm9vbGFzeW5kaWNhdGlvbi5jb20yCHdhdGVyMDI4OIDuyf0EQIjrCkixkBBQ3PAUWP___________wFjCP4WEIogGBNkYwjXFhDVHxgjZGMI0gMQ4AYYCGRjCJYUEJ0cGBhkYwjS__________8BENL__________wEYLmRjCPQUEJ4dGB9keAGAAQKIAcaKxgQ"
};

describe('Get anchor tag function', () => {
    const mockedGetAnchorTarget = jest.fn((article) => {
        if (article.origin === 'sponsored') {
            return '_blank';
        } else return '_self';
    });

    test('Sending sponsored article as an argument, should return _blank to open in a new tab', () => {
        expect(mockedGetAnchorTarget(sponsoredArticle)).toBe('_blank');
        expect(mockedGetAnchorTarget).toHaveBeenCalled();
        expect(mockedGetAnchorTarget).toHaveBeenCalledWith(sponsoredArticle);
    });

    test('Sending organic article as an argument, should return _self to open in the same tab', () => {
        expect(mockedGetAnchorTarget(organicArticle)).toBe('_self');
        expect(mockedGetAnchorTarget).toHaveBeenCalled();
        expect(mockedGetAnchorTarget).toHaveBeenCalledWith(organicArticle);
    });
});